
{
	"name": "Terraform",
	"image": "mcr.microsoft.com/devcontainers/base:ubuntu",
	"features": {
		"ghcr.io/devcontainers/features/terraform:1": {
			"version": "latest"
		},
		"ghcr.io/devcontainers/features/aws-cli:1": {
			"version": "latest"
		}
	},
	"remoteEnv": {
		"AWS_ACCESS_KEY_ID": "${localEnv:AWS_ACCESS_KEY_ID}",
		"AWS_SECRET_ACCESS_KEY": "${localEnv:AWS_SECRET_ACCESS_KEY}",
		"AWS_DEFAULT_REGION": "${localEnv:AWS_DEFAULT_REGION:ap-northeast-1}"
	},
	"customizations": {
		"vscode": {
			"extensions": [
				"hashicorp.terraform"
			]
		}
	},
	"postCreateCommand": "echo 'source /workspaces/terraform-aws/.envrc' >> ~/.bashrc",
	"postStartCommand": "bash -c 'source /workspaces/terraform-aws/.envrc && echo \"AWS Region: $AWS_DEFAULT_REGION\"'"
}
